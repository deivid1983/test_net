Ç
-C:\Workspace\test_net\Service\AlbumService.cs
	namespace		 	
Service		
 
{

 
public 

	interface 
IAlbumService "
{ 
bool 
Create 
( 
Album 
model 
)  
;  !
IEnumerable 
< 
Album 
> 
GetAll !
(! "
)" #
;# $
Album 
Get 
( 
int 
albumIn 
) 
; 
} 
public 

class 
AlbumService 
: 
IAlbumService  -
{ 
private 
readonly 
AlbumDbContext '
_context( 0
;0 1
public 
AlbumService 
( 
AlbumDbContext 
context "
) 	
{ 	
_context 
= 
context 
; 
} 	
public 
bool 
Create 
( 
Album  
model! &
)& '
{ 	
try   
{!! 
model"" 
."" 
	CreatedAt"" 
=""  !
DateTime""" *
.""* +
Now""+ .
;"". /
_context## 
.## 
Entry## 
(## 
model## $
)##$ %
.##% &
State##& +
=##, -
EntityState##. 9
.##9 :
Added##: ?
;##? @
_context$$ 
.$$ 
SaveChanges$$ $
($$$ %
)$$% &
;$$& '
}%% 
catch&& 
(&& 
	Exception&& 
e&& 
)&& 
{'' 
return(( 
false(( 
;(( 
})) 
return++ 
true++ 
;++ 
},, 	
public.. 
IEnumerable.. 
<.. 
Album..  
>..  !
GetAll.." (
(..( )
)..) *
{// 	
var00 
result00 
=00 
new00 
List00 !
<00! "
Album00" '
>00' (
(00( )
)00) *
;00* +
try22 
{33 
result44 
=44 
_context44 !
.44! "
Album44" '
.44' (
OrderByDescending44( 9
(449 :
x44: ;
=>44< >
x44? @
.44@ A
	CreatedAt44A J
)44J K
.55 
ToList55 %
(55% &
)55& '
;55' (
}66 
catch77 
(77 
	Exception77 
)77 
{88 
}:: 
return<< 
result<< 
;<< 
}== 	
public?? 
Album?? 
Get?? 
(?? 
int?? 
albumId?? $
)??$ %
{@@ 	
varAA 
resultAA 
=AA 
newAA 
AlbumAA "
(AA" #
)AA# $
;AA$ %
tryCC 
{DD 
resultEE 
=EE 
_contextEE !
.EE! "
AlbumEE" '
.EE' (
IncludeEE( /
(EE/ 0
xEE0 1
=>EE2 4
xEE5 6
.EE6 7
PhotosEE7 =
)EE= >
.FF' (
SingleFF( .
(FF. /
xFF/ 0
=>FF1 3
xFF4 5
.FF5 6
IdFF6 8
==FF9 ;
albumIdFF< C
)FFC D
;FFD E
}GG 
catchHH 
(HH 
	ExceptionHH 
)HH 
{II 
}KK 
returnMM 
resultMM 
;MM 
}NN 	
}OO 
}PP °
-C:\Workspace\test_net\Service\PhotoService.cs
	namespace 	
Service
 
{ 
public 

	interface 
IPhotoService "
{		 
bool

 
Create

 
(

 
Photo

 
model

 
)

  
;

  !
} 
public 

class 
PhotoService 
: 
IPhotoService  -
{ 
private 
readonly 
AlbumDbContext '
_context( 0
;0 1
public 
PhotoService 
( 
AlbumDbContext 
context "
) 	
{ 	
_context 
= 
context 
; 
} 	
public 
bool 
Create 
( 
Photo  
model! &
)& '
{ 	
try 
{ 
model 
. 
	CreatedAt 
=  !
DateTime" *
.* +
Now+ .
;. /
_context 
. 
Entry 
( 
model $
)$ %
.% &
State& +
=, -
EntityState. 9
.9 :
Added: ?
;? @
_context 
. 
SaveChanges $
($ %
)% &
;& '
} 
catch   
(   
	Exception   
e   
)   
{!! 
return"" 
false"" 
;"" 
}## 
return%% 
true%% 
;%% 
}&& 	
}'' 
}(( 